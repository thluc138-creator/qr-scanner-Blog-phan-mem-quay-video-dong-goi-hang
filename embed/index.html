<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Scanner v7.25 Premium - Full Screen</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="app-container">
        <!-- HEADER -->
        <div class="header">
            <h1>üì¶ Quay Video ƒê√≥ng H√†ng <span id="userBadge" class="free-badge">FREE</span></h1>
            <div class="subtitle">v7.25 Premium - Full Screen</div>
        </div>
        
        <!-- LIMIT BANNER (Free users) -->
        <div class="limit-banner" id="limitBanner" onclick="window.parent.postMessage({action:'openPremiumPopup'},'*')">
            ‚ö†Ô∏è B·∫£n Free: <strong><span id="usedToday">0</span>/100</strong> ƒë∆°n h√¥m nay | Reset l√∫c 00:00 | <span class="upgrade-link">üëë N√¢ng c·∫•p Premium</span>
        </div>
        
        <!-- PREMIUM INFO (Premium users) -->
        <div class="premium-info hidden" id="premiumInfo">
            ‚≠ê Premium Active | C√≤n l·∫°i: <span class="days-remaining" id="daysRemaining">365</span> ng√†y | Kh√¥ng gi·ªõi h·∫°n ƒë∆°n h√†ng
        </div>
        
        <!-- TABS -->
        <div class="tabs">
            <button class="tab active" data-tab="tabCamera">üì∑ Camera - Webcam</button>
            <button class="tab" data-tab="tabScanner">‚å®Ô∏è M√°y qu√©t c·∫ßm tay</button>
        </div>
        
        <!-- CONTROLS -->
        <div class="controls">
            <div class="control-row">
                <div class="control-group">
                    <label>üìπ Camera</label>
                    <select id="cameraSelect"><option>ƒêang t·∫£i...</option></select>
                </div>
                <div class="control-group">
                    <label>üìê Ch·∫•t l∆∞·ª£ng</label>
                    <select id="qualitySelect">
                        <option value="1080p30">1080p 30fps</option>
                        <option value="1080p60" selected>1080p 60fps</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>üíæ Bitrate</label>
                    <select id="bitrateSelect">
                        <option value="8">8 Mbps</option>
                        <option value="10">10 Mbps</option>
                        <option value="12" selected>12 Mbps</option>
                    </select>
                </div>
            </div>
            <div class="control-row">
                <div class="control-group">
                    <label>üìç Timestamp</label>
                    <select id="timestampSelect">
                        <option value="top-left">Tr√™n tr√°i</option>
                        <option value="top-right" selected>Tr√™n ph·∫£i</option>
                        <option value="bottom-left">D∆∞·ªõi tr√°i</option>
                        <option value="bottom-right">D∆∞·ªõi ph·∫£i</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>üîä √Çm l∆∞·ª£ng Beep</label>
                    <div class="volume-group">
                        <input type="range" class="volume-slider" id="beepVolume" min="0" max="100" value="80">
                        <span class="volume-value" id="volumeValue">80%</span>
                    </div>
                </div>
                <div class="control-group">
                    <label>‚è© Ghi h√¨nh sau qu√©t</label>
                    <select id="postBufferSelect">
                        <option value="2000">2 gi√¢y</option>
                        <option value="3000" selected>3 gi√¢y</option>
                        <option value="5000">5 gi√¢y</option>
                    </select>
                </div>
            </div>
            <div class="toggle-row">
                <label class="toggle">
                    <input type="checkbox" id="audioToggle" checked>
                    <span class="toggle-slider"></span>
                </label>
                <span class="toggle-label">üé§ Ghi √¢m</span>
                <span class="recommend-text">Khuy·∫øn ngh·ªã: ·ªîn ƒë·ªãnh 1080p 30fps - 8Mbps</span>
            </div>
        </div>
        
        <!-- BUTTONS -->
        <div class="buttons">
            <button id="btnCamera" class="btn btn-primary">üì∑ B·∫≠t Camera</button>
            <button id="btnFolder" class="btn btn-secondary">üìÅ Th∆∞ m·ª•c</button>
        </div>
        
        <!-- FOLDER INFO -->
        <div class="folder-info hidden" id="folderInfo">
            <span class="title">üìÅ L∆∞u v√†o:</span> 
            <span class="path" id="folderPath">-</span>
        </div>
        
        <!-- VIDEO SECTION -->
        <div class="video-section">
            <video id="webcamVideo" autoplay muted playsinline></video>
            
            <!-- Recording Indicator -->
            <div class="rec-indicator hidden" id="recIndicator">
                üî¥ REC <span id="timerDisplay">00:00:00</span>
            </div>
            
            <!-- FPS Display -->
            <div class="fps-display">
                <span>FPS: <span class="fps-value" id="fpsValue">0</span></span>
                <span>Scan: <span id="scanRateValue">0</span>/s</span>
            </div>
            
            <!-- Scan Lock Overlay -->
            <div class="scan-lock-overlay hidden" id="scanLockOverlay">
                <div class="scan-lock-time" id="scanLockTime">10</div>
                <div class="scan-lock-text">ƒêang ghi h√¨nh...</div>
            </div>
            
            <!-- QR Detected Overlay -->
            <div class="video-overlay" id="videoOverlay">
                <h4>üì¶ ƒê√£ qu√©t:</h4>
                <strong id="detectedQR">-</strong>
                <div>S·∫£n ph·∫©m: <span id="productCount">0</span></div>
            </div>
        </div>
        
        <!-- STATS -->
        <div class="stats">
            <span class="stats-title">üìä H√¥m nay:</span>
            <span class="stats-count" id="todayCount">0</span>
            <span class="stats-total">| T·ªïng: <span id="totalCount">0</span></span>
            <span class="stats-limit" id="statsLimit">| C√≤n: <span id="remainingToday">100</span></span>
        </div>
        
        <!-- HISTORY -->
        <div class="history">
            <div class="history-header">
                <h3>üìã L·ªãch s·ª≠ qu√©t</h3>
                <input type="text" class="search-input" id="searchInput" placeholder="üîç T√¨m ki·∫øm...">
            </div>
            <div class="history-list" id="historyList">
                <div class="empty-msg">Ch∆∞a c√≥ ƒë∆°n h√†ng n√†o</div>
            </div>
        </div>
        
        <!-- HISTORY ACTIONS -->
        <div class="history-actions">
            <button id="btnExport" class="btn btn-success btn-small">üì• Xu·∫•t Excel</button>
            <button id="btnDateFilter" class="btn btn-info btn-small">üìÖ L·ªçc ng√†y</button>
            <button id="btnClearHistory" class="btn btn-danger btn-small">üóëÔ∏è X√≥a t·∫•t c·∫£</button>
        </div>
    </div>
    
    <!-- ==================== MODALS ==================== -->
    
    <!-- Limit Modal -->
    <div class="modal-overlay hidden" id="limitModal">
        <div class="limit-modal">
            <h2>‚ö†Ô∏è H·∫øt l∆∞·ª£t qu√©t h√¥m nay!</h2>
            <p>B·∫°n ƒë√£ s·ª≠ d·ª•ng h·∫øt 100 l∆∞·ª£t qu√©t mi·ªÖn ph√≠.</p>
            <p>N√¢ng c·∫•p Premium ƒë·ªÉ qu√©t kh√¥ng gi·ªõi h·∫°n!</p>
            <button class="btn-upgrade" id="btnUpgradeFromLimit">üëë N√¢ng c·∫•p Premium</button>
            <br><br>
            <button class="btn btn-small" id="btnCloseLimitModal">ƒê√≥ng</button>
        </div>
    </div>
    
    <!-- Date Filter Modal -->
    <div class="modal-overlay hidden" id="dateModal">
        <div class="modal-box">
            <h3>üìÖ L·ªçc theo ng√†y</h3>
            <div class="date-inputs">
                <label>T·ª´ ng√†y</label>
                <input type="date" id="startDate">
                <label>ƒê·∫øn ng√†y</label>
                <input type="date" id="endDate">
            </div>
            <div class="modal-buttons">
                <button class="btn btn-primary btn-small" id="btnApplyDateFilter">√Åp d·ª•ng</button>
                <button class="btn btn-small" id="btnCancelDateFilter">H·ªßy</button>
            </div>
        </div>
    </div>
    
    <!-- Renewal Warning Modal -->
    <div class="renewal-modal hidden" id="renewalModal">
        <div class="renewal-box">
            <h2>‚ö†Ô∏è S·∫Øp h·∫øt h·∫°n Premium!</h2>
            <div>
                <div class="days-big" id="renewDays">5</div>
                <p id="renewText">ng√†y c√≤n l·∫°i</p>
            </div>
            <div class="warning-text">
                Gia h·∫°n ngay ƒë·ªÉ ti·∫øp t·ª•c s·ª≠ d·ª•ng Premium v√† gi·ªØ to√†n b·ªô d·ªØ li·ªáu!
            </div>
            <button class="btn-renew" id="btnRenewNow">üîÑ Gia h·∫°n ngay</button>
            <button class="btn-later" id="btnRenewLater">ƒê·ªÉ sau</button>
        </div>
    </div>
    
    <!-- Toast -->
    <div class="toast" id="toast"></div>
    
    <!-- ==================== SCRIPTS ==================== -->
    <!-- jsQR Library -->
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    
    <!-- App Modules (load in order) -->
    <script src="js/config.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/license.js"></script>
    <script src="js/scanner.js"></script>
    <script src="js/recorder.js"></script>
    <script src="js/orders.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
